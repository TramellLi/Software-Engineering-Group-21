# We use the official image as a parent image.
FROM mongo:4.1.8-xenial

# Make the initing directory
RUN mkdir -p /home/init

# Set the working directory.
WORKDIR /home

# Copy seeds to initing directory.
COPY --chown=mongo:mongo ./seed/*.json ./init/

# Copy script to docker-entrypoint directory.
COPY --chown=mongo:mongo ./seed/seeding.sh /docker-entrypoint-initdb.d/

# Make seeding.sh executable
RUN chmod a+x /docker-entrypoint-initdb.d/seeding.sh
